{"version":3,"file":"static/js/115.34aa333e.chunk.js","mappings":"iOA8DA,UAxDe,WACb,IAAMA,GAAWC,EAAAA,EAAAA,MACjB,GAAsCC,EAAAA,EAAAA,MAAtC,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAAsDC,EAAAA,EAAAA,UAAS,IAA/D,eAAOC,EAAP,KAA4BC,EAA5B,KACMC,EAAYL,EAAYM,IAAI,SA2BlC,OApBAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAkB,mCAAG,+GAEAC,EAAAA,EAAAA,IAAA,4DAhBnB,mCAgBmB,kBAC6CJ,IAH7C,OAEjBK,EAFiB,OAKjBC,EAAiBD,EAASE,KAAKC,QAErCT,EAAuBO,GAPA,gDASvBG,QAAQC,IAAR,wBATuB,yDAAH,qDAYpBV,EACFG,IAEAJ,EAAuB,GAE1B,GAAE,CAACC,EAAWL,KAGb,4BACE,kBAAMgB,SA3BW,SAAAC,GACnBA,EAAEC,iBACFjB,EAAe,CAAEkB,MAAOF,EAAEG,OAAOC,YAAYC,OAC9C,EAwBG,WACE,kBAAOC,KAAK,iBACZ,mBAAQC,KAAK,SAAb,wBAGF,wBACGrB,GACCA,EAAoBsB,KAAI,SAAAC,GACtB,OACE,SAAC,KAAD,CAEEC,GAAE,kBAAaD,EAAME,IACrBC,MAAO,CAAEC,KAAMjC,GAHjB,UAKE,wBAAK6B,EAAMK,SAJNL,EAAME,GAOhB,QAIV,C","sources":["components/Movies/Movies.jsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nconst KEY = '65128993e18cf258695ad7fce6893761';\n\nconst Movies = () => {\n  const location = useLocation();\n  const [searchQuery, setSearchQuery] = useSearchParams();\n  const [moviesBySearchQuery, setMoviesBySearchQuery] = useState([]);\n  const realQuery = searchQuery.get('query');\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setSearchQuery({ query: e.target.searchInput.value });\n  };\n\n  useEffect(() => {\n    const fetchBySearchQuery = async () => {\n      try {\n        const response = await axios.get(\n          `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&query=${realQuery}`\n        );\n        const newSearchQuery = response.data.results;\n\n        setMoviesBySearchQuery(newSearchQuery);\n      } catch (error) {\n        console.log(`Error: ${error}`);\n      }\n    };\n    if (realQuery) {\n      fetchBySearchQuery();\n    } else {\n      setMoviesBySearchQuery([]);\n    }\n  }, [realQuery, searchQuery]);\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit}>\n        <input name=\"searchInput\" />\n        <button type=\"submit\">Search</button>\n      </form>\n\n      <ul>\n        {moviesBySearchQuery &&\n          moviesBySearchQuery.map(movie => {\n            return (\n              <Link\n                key={movie.id}\n                to={`/movies/${movie.id}`}\n                state={{ from: location }}\n              >\n                <li>{movie.title}</li>\n              </Link>\n            );\n          })}\n      </ul>\n    </div>\n  );\n};\n\nexport default Movies;\n"],"names":["location","useLocation","useSearchParams","searchQuery","setSearchQuery","useState","moviesBySearchQuery","setMoviesBySearchQuery","realQuery","get","useEffect","fetchBySearchQuery","axios","response","newSearchQuery","data","results","console","log","onSubmit","e","preventDefault","query","target","searchInput","value","name","type","map","movie","to","id","state","from","title"],"sourceRoot":""}